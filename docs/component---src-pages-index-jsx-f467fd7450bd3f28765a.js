(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{139:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(147),o=(n(35),n(74),n(75),n(141),n(32),n(76),n(51),n(167),n(4)),r=n(140),l=n.n(r),u=n(169),c=n.n(u),d=n(142),p=(n(171),d.b.article.withConfig({displayName:"List__Article",componentId:"sc-4z5mcm-0"})(["margin:2em 0;"])),f=d.b.h1.withConfig({displayName:"List__PageTitle",componentId:"sc-4z5mcm-1"})(["font-size:32px;"]),m=d.b.h4.withConfig({displayName:"List__Title",componentId:"sc-4z5mcm-2"})(["font-size:20px;"]),h=d.b.section.withConfig({displayName:"List__Content",componentId:"sc-4z5mcm-3"})(["margin:1em 0 0;"]),v=d.b.div.withConfig({displayName:"List__Frame",componentId:"sc-4z5mcm-4"})(["width:320px;height:240px;background-image:url('","');background-position:center;backgorund-size:cover;"],function(e){return e.image}),b=Object(d.b)(c.a).withConfig({displayName:"List__StyledDropdown",componentId:"sc-4z5mcm-5"})(["width:320px;"]),g=function(e){var t=e.posts,n=Object(a.useState)(null),s=n[0],o=n[1],r=Object.values(t.map(function(e){return e.node.categories}).flat().reduce(function(e,t){var n;return Object.assign(e,((n={})[t.id]={label:t.name,value:t.id},n))},{}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(f,null,"Article List"),i.a.createElement(b,{options:r,onChange:o,value:s,placeholder:"Select an option"}),t.filter(function(e){var t=e.node;return null===s||(console.log(t.categories,s.value),!!t.categories.map(function(e){return e.id}).includes(s.value))}).map(function(e){var t=e.node,n=t.id,a=t.title,s=t.slug,o=t.content,r=t.preview;return i.a.createElement(p,{key:n},i.a.createElement(v,{image:r.source}),i.a.createElement(l.a,{to:s},i.a.createElement(m,null,a)),i.a.createElement(h,null,o.replace(/<[^>]*>/g,"").slice(0,150)))}))};g.propTypes={posts:Object(o.arrayOf)(Object(o.shape)({node:Object(o.shape)({id:o.string.isRequired,title:o.string.isRequired,content:o.string.isRequired,categories:Object(o.arrayOf)(Object(o.shape)({id:o.string.isRequired,name:o.string.isRequired})).isRequired}).isRequired}))},g.defaultProps={posts:[]},g.displayName="List";var y=g,w=function(e){return i.a.createElement(s.a,e,i.a.createElement(y,null))};w.displayName="Home";t.default=w},141:function(e,t,n){var a=n(24).f,i=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in i||n(16)&&a(i,"name",{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},167:function(e,t,n){var a=n(11),i=n(168)(!1);a(a.S,"Object",{values:function(e){return i(e)}})},168:function(e,t,n){var a=n(33),i=n(34),s=n(73).f;e.exports=function(e){return function(t){for(var n,o=i(t),r=a(o),l=r.length,u=0,c=[];l>u;)s.call(o,n=r[u++])&&c.push(e?[n,o[n]]:o[n]);return c}}},169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),s=l(i),o=l(n(36)),r=l(n(170));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="Select...",d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selected:n.parseValue(e.value,e.options)||{label:void 0===e.placeholder?c:e.placeholder,value:""},isOpen:!1},n.mounted=!0,n.handleDocumentClick=n.handleDocumentClick.bind(n),n.fireChangeEvent=n.fireChangeEvent.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentWillReceiveProps",value:function(e){if(e.value){var t=this.parseValue(e.value,e.options);t!==this.state.selected&&this.setState({selected:t})}else this.setState({selected:{label:void 0===e.placeholder?c:e.placeholder,value:""}})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"handleMouseDown",value:function(e){this.props.onFocus&&"function"==typeof this.props.onFocus&&this.props.onFocus(this.state.isOpen),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.props.disabled||this.setState({isOpen:!this.state.isOpen}))}},{key:"parseValue",value:function(e,t){var n=void 0;if("string"==typeof e)for(var a=0,i=t.length;a<i;a++)if("group"===t[a].type){var s=t[a].items.filter(function(t){return t.value===e});s.length&&(n=s[0])}else void 0!==t[a].value&&t[a].value===e&&(n=t[a]);return n||e}},{key:"setValue",value:function(e,t){var n={selected:{value:e,label:t},isOpen:!1};this.fireChangeEvent(n),this.setState(n)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(e){var t,n=e.value;void 0===n&&(n=e.label||e);var a=e.label||e.value||e,i=n===this.state.selected.value||n===this.state.selected,o=(u(t={},this.props.baseClassName+"-option",!0),u(t,e.className,!!e.className),u(t,"is-selected",i),t),l=(0,r.default)(o);return s.default.createElement("div",{key:n,className:l,onMouseDown:this.setValue.bind(this,n,a),onClick:this.setValue.bind(this,n,a),role:"option","aria-selected":i?"true":"false"},a)}},{key:"buildMenu",value:function(){var e=this,t=this.props,n=t.options,a=t.baseClassName,i=n.map(function(t){if("group"===t.type){var n=s.default.createElement("div",{className:a+"-title"},t.name),i=t.items.map(function(t){return e.renderOption(t)});return s.default.createElement("div",{className:a+"-group",key:t.name,role:"listbox",tabindex:"-1"},n,i)}return e.renderOption(t)});return i.length?i:s.default.createElement("div",{className:a+"-noresults"},"No options found")}},{key:"handleDocumentClick",value:function(e){this.mounted&&(o.default.findDOMNode(this).contains(e.target)||this.state.isOpen&&this.setState({isOpen:!1}))}},{key:"isValueSelected",value:function(){return"string"==typeof this.state.selected||""!==this.state.selected.value}},{key:"render",value:function(){var e,t,n,a,i,o=this.props,l=o.baseClassName,c=o.controlClassName,d=o.placeholderClassName,p=o.menuClassName,f=o.arrowClassName,m=o.arrowClosed,h=o.arrowOpen,v=o.className,b=this.props.disabled?"Dropdown-disabled":"",g="string"==typeof this.state.selected?this.state.selected:this.state.selected.label,y=(0,r.default)((u(e={},l+"-root",!0),u(e,v,!!v),u(e,"is-open",this.state.isOpen),e)),w=(0,r.default)((u(t={},l+"-control",!0),u(t,c,!!c),u(t,b,!!b),t)),O=(0,r.default)((u(n={},l+"-placeholder",!0),u(n,d,!!d),u(n,"is-selected",this.isValueSelected()),n)),C=(0,r.default)((u(a={},l+"-menu",!0),u(a,p,!!p),a)),E=(0,r.default)((u(i={},l+"-arrow",!0),u(i,f,!!f),i)),k=s.default.createElement("div",{className:O},g),N=this.state.isOpen?s.default.createElement("div",{className:C,"aria-expanded":"true"},this.buildMenu()):null;return s.default.createElement("div",{className:y},s.default.createElement("div",{className:w,onMouseDown:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this),"aria-haspopup":"listbox"},k,s.default.createElement("div",{className:l+"-arrow-wrapper"},h&&m?this.state.isOpen?h:m:s.default.createElement("span",{className:E}))),N)}}]),t}();d.defaultProps={baseClassName:"Dropdown"},t.default=d},170:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var s=typeof a;if("string"===s||"number"===s)e.push(a);else if(Array.isArray(a)&&a.length){var o=i.apply(null,a);o&&e.push(o)}else if("object"===s)for(var r in a)n.call(a,r)&&a[r]&&e.push(r)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(a=function(){return i}.apply(t,[]))||(e.exports=a)}()},171:function(e,t,n){}}]);
//# sourceMappingURL=component---src-pages-index-jsx-f467fd7450bd3f28765a.js.map